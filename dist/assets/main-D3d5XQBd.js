import{r as e,a as r,R as t}from"./vendor-CqEpiFl-.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?r.credentials="include":"anonymous"===e.crossOrigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();var s={exports:{}},o={},n=e,a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function u(e,r,t){var s,o={},n=null,l=null;for(s in void 0!==t&&(n=""+t),void 0!==r.key&&(n=""+r.key),void 0!==r.ref&&(l=r.ref),r)i.call(r,s)&&!d.hasOwnProperty(s)&&(o[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===o[s]&&(o[s]=r[s]);return{$$typeof:a,type:e,key:n,ref:l,props:o,_owner:c.current}}o.Fragment=l,o.jsx=u,o.jsxs=u,s.exports=o;var m,f=s.exports,p=r;m=p.createRoot,p.hydrateRoot;const y="https://wintermute-staging-x-49dd432d3500.herokuapp.com",h=(y.endsWith("/")?y:y+"/")+"api/v1/",x=()=>{const[r,t]=e.useState(""),[s,o]=e.useState(null),[n,a]=e.useState(!1),[l,i]=e.useState(null),[c,d]=e.useState("");e.useEffect((()=>{d(crypto.randomUUID())}),[]);return f.jsxs("div",{className:"flex flex-col items-center justify-start w-full h-full p-8 space-y-6",children:[f.jsx("textarea",{value:r,onChange:e=>t(e.target.value),className:"w-full max-w-md p-4 border rounded-lg text-gray-300 bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your query here...",rows:4}),f.jsx("button",{onClick:async()=>{if(r.trim()){a(!0),i(null),o(null);try{const e=await(async(e,r)=>{try{const t={query:e,prompt:e,top_k:5,window_id:r||crypto.randomUUID(),request_metadata:{operation_type:"QUERY",window_id:r,timestamp:(new Date).toISOString()}},s=await fetch(`${h}query`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(!s.ok){const e=await s.text();throw new Error(`API Error (${s.status}): ${e}`)}const o=await s.json();if(!1===o.success)throw new Error(`API Error: ${o.message} - ${o.error}`);return o}catch(l){throw l}})(r,c);e.error?i(e.error):e.response?o(e.response):o("No response from the AI.")}catch(e){i({code:"UNKNOWN_ERROR",message:e instanceof Error?e.message:"An unknown error occurred",timestamp:(new Date).toISOString()})}finally{a(!1)}}},disabled:n,className:"px-6 py-2 bg-blue-500 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Processing...":"Send Query"}),l&&f.jsxs("div",{className:"w-full max-w-md p-4 text-red-500 bg-red-900 border border-red-500 rounded-lg",children:[f.jsx("p",{className:"font-bold",children:l.code}),f.jsx("p",{children:l.message}),l.details&&f.jsx("pre",{className:"mt-2 text-sm",children:JSON.stringify(l.details,null,2)})]}),s&&f.jsx("div",{className:"w-full max-w-md p-4 bg-gray-800 rounded-lg border border-gray-700 text-gray-300",children:f.jsx("p",{className:"whitespace-pre-wrap",children:s})})]})},g=()=>f.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-screen",children:[f.jsx("h1",{className:"text-4xl font-bold mb-2",children:"wintermute ai system"})," ",f.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"By jay"})," ",f.jsx("div",{className:"w-64 h-4 bg-gray-700 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500 ease-in-out",style:{width:"100%"}})})]}),w=()=>{const[r,t]=e.useState(!0);return e.useEffect((()=>{const e=setTimeout((()=>{t(!1)}),2500);return()=>clearTimeout(e)}),[]),f.jsx(f.Fragment,{children:r?f.jsx(g,{}):f.jsx(x,{})})},b=document.getElementById("root");if(!b)throw new Error("Root element not found");m(b).render(f.jsx(t.StrictMode,{children:f.jsx(w,{})}));
