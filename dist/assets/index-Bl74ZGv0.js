import{r as e,a as r,R as t}from"./vendor-CqEpiFl-.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&r(e)})).observe(document,{childList:!0,subtree:!0})}function r(e){if(e.ep)return;e.ep=!0;const r=function(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?r.credentials="include":"anonymous"===e.crossOrigin?r.credentials="omit":r.credentials="same-origin",r}(e);fetch(e.href,r)}}();var o={exports:{}},s={},n=e,a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function u(e,r,t){var o,s={},n=null,l=null;for(o in void 0!==t&&(n=""+t),void 0!==r.key&&(n=""+r.key),void 0!==r.ref&&(l=r.ref),r)i.call(r,o)&&!d.hasOwnProperty(o)&&(s[o]=r[o]);if(e&&e.defaultProps)for(o in r=e.defaultProps)void 0===s[o]&&(s[o]=r[o]);return{$$typeof:a,type:e,key:n,ref:l,props:s,_owner:c.current}}s.Fragment=l,s.jsx=u,s.jsxs=u,o.exports=s;var f,m=o.exports,p=r;f=p.createRoot,p.hydrateRoot;const y="https://wintermute-staging-x-49dd432d3500.herokuapp.com",h=(y.endsWith("/")?y:y+"/")+"api/v1/",x=()=>{const[r,t]=e.useState(""),[o,s]=e.useState(null),[n,a]=e.useState(!1),[l,i]=e.useState(null),[c,d]=e.useState("");e.useEffect((()=>{d(crypto.randomUUID())}),[]);return m.jsxs("div",{className:"flex flex-col items-center justify-start w-full h-full p-8 space-y-6",children:[m.jsx("h1",{className:"text-4xl font-bold",children:"wintermute ai system"}),m.jsx("textarea",{value:r,onChange:e=>t(e.target.value),className:"w-full max-w-md p-4 border rounded-lg text-gray-300 bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your query here...",rows:4}),m.jsx("button",{onClick:async()=>{if(r.trim()){a(!0),i(null),s(null);try{const e=await(async(e,r)=>{try{const t={query:e,prompt:e,top_k:5,window_id:r||crypto.randomUUID(),request_metadata:{operation_type:"QUERY",window_id:r,timestamp:(new Date).toISOString()}},o=await fetch(`${h}query`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)});if(!o.ok){const e=await o.text();throw new Error(`API Error (${o.status}): ${e}`)}const s=await o.json();if(!1===s.success)throw new Error(`API Error: ${s.message} - ${s.error}`);return s}catch(l){throw l}})(r,c);e.error?i(e.error.message||"An API error occurred."):e.response?s(e.response):s("No response from the AI.")}catch(e){i(e instanceof Error?e.message:"An unknown error occurred.")}finally{a(!1)}}},disabled:n,className:"px-6 py-2 bg-blue-500 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Processing...":"Send Query"}),l&&m.jsx("div",{className:"w-full max-w-md p-4 text-red-500 bg-red-900 border border-red-500 rounded-lg",children:l}),o&&m.jsx("div",{className:"w-full max-w-md p-4 bg-gray-800 rounded-lg border border-gray-700 text-gray-300",children:m.jsx("p",{className:"whitespace-pre-wrap",children:o})}),m.jsx("p",{className:"absolute top-4 right-4 text-sm text-gray-500",children:"By Jay"})]})},g=()=>m.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-screen",children:[m.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Wintermute"}),m.jsx("div",{className:"w-64 h-4 bg-gray-700 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500 ease-in-out",style:{width:"100%"}})}),m.jsx("p",{className:"absolute top-4 right-4 text-sm text-gray-500",children:"By Jay"})]}),w=()=>{const[r,t]=e.useState(!0);return e.useEffect((()=>{const e=setTimeout((()=>{t(!1)}),2500);return()=>clearTimeout(e)}),[]),m.jsx(m.Fragment,{children:r?m.jsx(g,{}):m.jsx(x,{})})},b=document.getElementById("root");if(!b)throw new Error("Root element not found");f(b).render(m.jsx(t.StrictMode,{children:m.jsx(w,{})}));
